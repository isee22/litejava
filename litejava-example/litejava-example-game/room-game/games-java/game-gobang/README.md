# Game Gobang - 五子棋游戏服务器

## 概述

五子棋游戏服务器，2人对战，继承自 `GameServer` 基类。

## 配置

```yaml
server:
  id: gobang-1
  host: localhost
  wsPort: 9200
  httpPort: 9201

game:
  type: gobang
  maxPlayers: 2
```

## 游戏流程

```
1. 两位玩家准备
        │
        ▼
2. 游戏开始 (GAME_START)
   - 随机决定先手 (黑棋)
   - 初始化 15x15 棋盘
        │
        ▼
3. 游戏循环
   ┌─────────────────────────────────────┐
   │                                     │
   │  当前玩家落子 (MOVE)                 │
   │         │                           │
   │         ▼                           │
   │  ┌─────────────┐                    │
   │  │ 检查胜负     │                    │
   │  └──────┬──────┘                    │
   │         │                           │
   │    ┌────┴────┐                      │
   │    │         │                      │
   │    ▼         ▼                      │
   │  五连珠    未结束                    │
   │  (获胜)   (换对方)                   │
   │                                     │
   └─────────────────────────────────────┘
        │
        ▼
4. 游戏结束 (GAME_OVER)
   - 一方五连珠获胜
   - 或棋盘下满平局
```

## 协议

### 命令号 (5000+)

| cmd | 名称 | 说明 |
|-----|------|------|
| 5001 | MOVE | 落子 |
| 5002 | MOVE_RESULT | 落子结果 |

### 落子 (cmd=5001)

```json
// 请求
{"cmd": 5001, "data": {"x": 7, "y": 7}}

// 广播
{
  "cmd": 5002,
  "data": {
    "seat": 0,
    "x": 7,
    "y": 7,
    "color": 1,      // 1=黑, 2=白
    "nextSeat": 1,
    "gameOver": false
  }
}
```

### 游戏结束

```json
{
  "cmd": 5002,
  "data": {
    "seat": 0,
    "x": 11,
    "y": 7,
    "color": 1,
    "gameOver": true,
    "winner": 0,
    "winLine": [[7,7], [8,7], [9,7], [10,7], [11,7]]
  }
}
```

## 棋盘

```
15x15 棋盘
坐标: (0,0) 左上角, (14,14) 右下角

  0 1 2 3 4 5 6 7 8 9 ...
0 . . . . . . . . . . 
1 . . . . . . . . . .
2 . . . . . . . . . .
3 . . . . . . . . . .
4 . . . . . . . . . .
5 . . . . . . . . . .
6 . . . . . . . . . .
7 . . . . . . . ● . .  ← 黑棋 (7,7)
8 . . . . . . . . . .
...
```

## 启动

```bash
mvn exec:java -pl game-gobang -Dexec.mainClass=game.gobang.GobangServer
```
