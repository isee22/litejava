# 五子棋协议文档

本文档描述五子棋游戏的通信协议。

## 1. 游戏流程

```
准备 → 开始 → 落子 → 判断胜负 → 结算
```

## 2. 命令号

| cmd | 名称 | 方向 | 说明 |
|-----|------|------|------|
| 400 | GAME_START | S→C | 游戏开始 |
| 401 | GAME_OVER | S→C | 游戏结束 |
| 412 | TURN | S→C | 轮到谁 |
| 2001 | MOVE | C→S | 落子 |
| 2002 | MOVE_RESULT | S→C | 落子结果 |

## 3. 协议详情

### 3.1 游戏开始 (GAME_START)
```json
{
  "cmd": 400,
  "data": {
    "black": 10001,
    "white": 10002,
    "currentPlayer": 10001
  }
}
```

### 3.2 落子 (MOVE)
```json
// 请求
{ "cmd": 2001, "data": { "row": 7, "col": 7 } }

// 响应
{
  "cmd": 2002,
  "data": {
    "userId": 10001,
    "row": 7,
    "col": 7,
    "stone": 1
  }
}
```

### 3.3 游戏结束 (GAME_OVER)
```json
{
  "cmd": 401,
  "data": {
    "winner": 0,
    "winnerId": 10001
  }
}
```

## 4. 棋盘

- 15x15 标准棋盘
- 坐标: row=0-14, col=0-14
- 棋子: 0=空, 1=黑, 2=白

## 5. 胜负判定

五子连珠获胜，检查四个方向：横、纵、斜、反斜
