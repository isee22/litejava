# Robot Client - 机器人客户端

用于测试和填充游戏房间的 AI 机器人客户端。

## 功能

- 自动登录、匹配、游戏
- 模拟真实玩家行为
- 支持多种游戏的 AI 策略
- 可配置机器人数量

## 架构

```
┌─────────────────────────────────────────────────────────────┐
│                      RobotClient (8900)                     │
├─────────────────────────────────────────────────────────────┤
│  RobotManager                                               │
│  ├── Robot[0] ──► 登录 ──► 匹配 ──► 游戏 ──► 循环          │
│  ├── Robot[1] ──► 登录 ──► 匹配 ──► 游戏 ──► 循环          │
│  └── Robot[N] ──► ...                                       │
├─────────────────────────────────────────────────────────────┤
│  AI 策略                                                    │
│  ├── DoudizhuAI    斗地主 AI                                │
│  ├── MahjongAI     麻将 AI                                  │
│  ├── GobangAI      五子棋 AI                                │
│  └── ...                                                    │
└─────────────────────────────────────────────────────────────┘
```

## 机器人流程

```
启动 ──► 创建 N 个机器人
              │
              ▼
         ┌─────────┐
         │  登录   │ ◄─────────────────┐
         └────┬────┘                   │
              │                        │
              ▼                        │
         ┌─────────┐                   │
         │  匹配   │                   │
         └────┬────┘                   │
              │ 匹配成功               │
              ▼                        │
         ┌─────────┐                   │
         │  游戏   │ (使用 AI 策略)    │
         └────┬────┘                   │
              │ 游戏结束               │
              └────────────────────────┘
```

## 配置

`src/main/resources/application.yml`:
```yaml
server:
  httpPort: 8900

account:
  url: http://localhost:8101

hall:
  url: http://localhost:8201

robot:
  count: 10           # 机器人数量
  startId: 900000     # 起始 ID (避免与真实玩家冲突)
  gameTypes:          # 参与的游戏类型
    - doudizhu
    - mahjong
    - gobang
```

## HTTP 接口

| 接口 | 说明 |
|------|------|
| `GET /status` | 查看机器人状态 |
| `POST /start` | 启动机器人 |
| `POST /stop` | 停止机器人 |
| `POST /add?count=5` | 增加机器人 |

### 状态查询

```http
GET /status

Response:
{
  "total": 10,
  "online": 8,
  "matching": 3,
  "gaming": 5,
  "idle": 0
}
```

## AI 策略

| 游戏 | AI 类 | 策略说明 |
|------|-------|----------|
| 斗地主 | DoudizhuAI | 简单出牌：优先出小牌，能压则压 |
| 麻将 | MahjongAI | 基础策略：打生张，留搭子 |
| 五子棋 | GobangAI | 防守优先：堵对方四连，找机会进攻 |
| 德州 | TexasAI | 简单下注：好牌加注，差牌弃牌 |
| 牛牛 | NiuniuAI | 自动亮牌 |

## 启动

```bash
mvn exec:java -pl robot-client -Dexec.mainClass=game.robot.RobotClient
```

## 注意事项

1. 机器人 ID 从 900000 开始，避免与真实玩家冲突
2. 机器人会自动重连和重新匹配
3. 可通过 HTTP 接口动态调整机器人数量
4. 建议在测试环境使用，生产环境谨慎开启
